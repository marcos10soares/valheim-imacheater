<!doctype html>
<html>
	<head>
		<title>Valheim Cheating Tools</title>
		<link rel="shortcut icon" href="favicon.png">
		<link rel="stylesheet" href="css/main.css">
	</head>
	<body onload=start()>
		<!-- UI layout -->
		<div class="container">
			<img class="logo" src="img/logo.png" alt="">
			<div class="break"></div>
			<p class="sub-logo">I'macheater Cheating Tools v1.4.0</p>
		</div>
		
		<!-- character selection -->
		<div class="flex-container">
			<form>
				<label>Choose a character:</label>
				<select id="selection" class="char-selection multi-selection">
				</select">
				<br><br>
				<input type="submit" value="Submit" style="display: none;">
			</form>
		</div>

		<!-- load and save buttons -->
		<div class="flex-container">
			<div class="counter"></div>
			<div class="btn-row">
				<div class="btn items-get">Load Items</div>
				<div class="btn items-save">Save Data</div>
			</div>
		</div>

		<!-- Top Actions -->
		<div id="power-selection-container" class="flex-container power-selection-hidden">
			<form>
				<label>Choose a power: </label>
				<select id="power-selection" class="power-selection multi-selection">
				</select">
				<br><br>
				<input type="submit" value="Submit" style="display: none;">
			</form>
		</div>

		<!-- reset cooldown -->
		<div class="flex-container">
			<div class="counter"></div>
			<div class="btn-row">
				<div class="btn action-resetcooldown" onclick="goResetPowerCooldown()">Reset Cooldown</div>
				<div class="btn action-give-infinite-life" onclick="goSetInfiniteLife()">Set Godmode</div>
				<!-- <div class="btn action-give-infinite-life" onclick="goRemoveInfiniteLife()">Reset Godmode</div> -->
			</div>
		</div>

		<!-- items list -->
		<div class="item-table-container">
			<table class="item-table">
			</table>
		</div>

		<div class="debug"></div>

		<!-- import JS -->
		<script src="js/helpers.js"></script>
		<script src="js/list_render.js"></script>
		<script>
			// We use async/await because Go functions are asynchronous
			// go bindings have to be in this index.html
			async function goGetChars() {
				 // Call Go function to get list of Characters
				return await getChars(); 
			}

			async function goGetItems() {
				 // Call Go function to get all items
				return await getItems(selection.options[selection.selectedIndex].value);
			}

			async function goGetPowers() {
				// Call Go function to get powers
				return await getPowers();
			}

			async function goUpdatePower(power) {
				// Call Go function to update power
				return await updatePower(power);
			}

			async function goUpdateItems(qty_values, lvl_values) {
				// Call Go function to update item count values
				return await updateItems(qty_values, lvl_values);
			}

			async function goResetPowerCooldown() {
				alert('Cooldown Reset! Now click "Save Data" to save changes!')
				// Call Go function to reset power cooldown
				return await resetPowerCooldown();
			}

			async function goSetInfiniteLife() {
				alert('Infinite Life Set! Now click "Save Data" to save changes!')
				// Call Go function to give infinite life
				return await setInfiniteLife();
			}

			async function goRemoveInfiniteLife() {
				alert('Infinite Life Removed! Now click "Save Data" to save changes!')
				// Call Go function to remove infinite life
				return await removeInfiniteLife();
			}

			removeInfiniteLife
			
			async function goSaveData() {
				// Call Go function to save changes to character file
				return await saveData();
			}
		</script>
		<script src="js/main.js"></script>
	</body>
</html>
